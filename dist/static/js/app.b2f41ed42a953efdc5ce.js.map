{"version":3,"sources":["webpack:///static/js/app.b2f41ed42a953efdc5ce.js","webpack:///./src/utils/index.js","webpack:///./src/App.vue","webpack:///./src/components/cell.vue","webpack:///./src/components/game.vue?e909","webpack:///./src/App.vue?d807","webpack:///./src/components/game.vue?0b11","webpack:///./src/components/cell.vue?b997","webpack:///./src/config.js","webpack:///App.vue","webpack:///cell.vue","webpack:///game.vue","webpack:///./src/main.js"],"names":["webpackJsonp","38","module","__webpack_exports__","__webpack_require__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default","n","Utils","randomBomb","bombCount","cellCount","console","time","log","cellArr","Array","fill","resultArr","map","uniqueRandom","randomIndex","Math","random","result","a","forEach","e","add","timeEnd","getCellStatus","cell","isFlag","status","status0","isBomb","bombCount0","39","exports","Component","41","42","43","render","_vm","this","_h","$createElement","_c","_self","attrs","id","staticRenderFns","44","class","config","theme","staticClass","w","h","r","resizeable","rotatable","_v","_s","flagCount","score","action","on","submit","$event","preventDefault","init","directives","name","rawName","value","expression","type","domProps","input","target","composing","inputRow","blur","$forceUpdate","inputCol","inputBombCount","tipsText","_e","tips-open","showTips","width","mouseup","handleClick","contextmenu","handleRightClick","_l","rows","row","key","col","href","click","45","className","display","48","49","50","91","maxRow","maxCol","92","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__components_game__","__WEBPACK_IMPORTED_MODULE_0__components_game___default","components","game","93","__WEBPACK_IMPORTED_MODULE_0__utils__","props","computed","94","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default","__WEBPACK_IMPORTED_MODULE_2__cell__","__WEBPACK_IMPORTED_MODULE_2__cell___default","__WEBPACK_IMPORTED_MODULE_3__config__","__WEBPACK_IMPORTED_MODULE_4__utils__","__WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate__","__WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate___default","vue-drr","data","gameOver","cellData","bombSet","success","mounted","watch","val","$this","methods","initData","_this","has","isTriggered","fail","ev","nodeName","cellIndex","parentNode","rowIndex","clickType","button","aroundCell","getAroundCell","reduce","sum","table","$el","querySelector","nextTick","$nextTick","evt","MouseEvent","bubbles","cells","dispatchEvent","rowArr","colArr","$vm","c","push","95","__WEBPACK_IMPORTED_MODULE_0_vue__","__WEBPACK_IMPORTED_MODULE_1__App__","__WEBPACK_IMPORTED_MODULE_1__App___default","productionTip","el"],"mappings":"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","file":"static/js/app.b2f41ed42a953efdc5ce.js","sourcesContent":["webpackJsonp([1,2],{\n\n/***/ 38:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n\nvar Utils = {};\nUtils.randomBomb = function (bombCount, cellCount) {\n  console.time('random');\n  console.log(bombCount, cellCount);\n  if (bombCount > cellCount) {\n    bombCount = cellCount;\n  }\n  var cellArr = Array(cellCount).fill(false);\n  var resultArr = Array(bombCount).fill(1).map(function uniqueRandom() {\n    var randomIndex = ~~(Math.random() * cellCount);\n    if (!cellArr[randomIndex]) {\n      cellArr[randomIndex] = true;\n      return randomIndex;\n    } else {\n      return uniqueRandom();\n    }\n  });\n  console.log(resultArr);\n  var result = new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a();\n  resultArr.forEach(function (e) {\n    return result.add(e);\n  });\n  console.timeEnd('random');\n  return result;\n};\n\nUtils.getCellStatus = function (result, cell) {\n  return cell.isFlag ? result.isFlag : cell.status === 0 ? result.status0 : cell.isBomb ? result.isBomb : cell.bombCount > 0 ? result.bombCount + cell.bombCount : result.bombCount0;\n};\n\n/* harmony default export */ __webpack_exports__[\"a\"] = Utils;\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(48)\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(92),\n  /* template */\n  __webpack_require__(43),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 41:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(93),\n  /* template */\n  __webpack_require__(45),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 42:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(50)\n__webpack_require__(49)\n\nvar Component = __webpack_require__(14)(\n  /* script */\n  __webpack_require__(94),\n  /* template */\n  __webpack_require__(44),\n  /* scopeId */\n  \"data-v-75f32dd9\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 43:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('game')], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 44:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.config.theme\n  }, [_c('vue-drr', {\n    staticClass: \"scoreboard\",\n    attrs: {\n      \"w\": 180,\n      \"h\": 180,\n      \"r\": 0,\n      \"resizeable\": false,\n      \"rotatable\": false\n    }\n  }, [_c('h3', [_vm._v(\"计分板\")]), _vm._v(\"\\n    旗帜数量： \" + _vm._s(_vm.flagCount) + \" \"), _c('br'), _c('br'), _vm._v(\"\\n    分数： \" + _vm._s(_vm.score) + \"\\n  \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"game-config\"\n  }, [_c('form', {\n    attrs: {\n      \"action\": \"\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_c('label', [_vm._v(\"行: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputRow),\n      expression: \"inputRow\"\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.inputRow)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputRow = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"列: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputCol),\n      expression: \"inputCol\"\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.inputCol)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputCol = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"雷的数量: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputBombCount),\n      expression: \"inputBombCount\"\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.inputBombCount)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputBombCount = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"生成\")])]), _vm._v(\" \"), (_vm.showTips) ? _c('div', {\n    staticClass: \"game-config-tips\"\n  }, [_vm._v(_vm._s(_vm.tipsText))]) : _vm._e()]), _vm._v(\" \"), _c('table', {\n    staticClass: \"game\",\n    class: {\n      'tips-open': _vm.showTips\n    },\n    attrs: {\n      \"width\": _vm.width\n    },\n    on: {\n      \"mouseup\": _vm.handleClick,\n      \"contextmenu\": function($event) {\n        $event.preventDefault();\n        _vm.handleRightClick($event)\n      }\n    }\n  }, _vm._l((_vm.cellData), function(rows, row) {\n    return _c('tr', {\n      key: row\n    }, _vm._l((rows), function(cell, col) {\n      return _c('cell', {\n        key: col,\n        attrs: {\n          \"row\": cell.row,\n          \"col\": cell.col,\n          \"isBomb\": cell.isBomb,\n          \"status\": cell.status,\n          \"isFlag\": cell.isFlag,\n          \"bombCount\": cell.bombCount\n        }\n      })\n    }))\n  })), _vm._v(\" \"), (_vm.gameOver) ? _c('div', {\n    staticClass: \"gameover layer\"\n  }, [_c('div', [_vm._v(\"Game Over\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你美丽了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"再试一次\")])])]) : _vm._e(), _vm._v(\" \"), (_vm.success) ? _c('div', {\n    staticClass: \"success layer\"\n  }, [_c('div', [_vm._v(\"Win!\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你成功了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"我还要玩\")])])]) : _vm._e()], 1)\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 45:\n/***/ (function(module, exports) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('td', {\n    class: _vm.className\n  }, [_vm._v(_vm._s(_vm.display))])\n},staticRenderFns: []}\n\n/***/ }),\n\n/***/ 48:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 49:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 50:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 91:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony default export */ __webpack_exports__[\"a\"] = {\n  bombCount: 50,\n  row: 20,\n  col: 20,\n  maxRow: 100,\n  maxCol: 100,\n  theme: 'classic'\n};\n\n/***/ }),\n\n/***/ 92:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_game__ = __webpack_require__(42);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__components_game___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0__components_game__);\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'app',\n  components: {\n    game: __WEBPACK_IMPORTED_MODULE_0__components_game___default.a\n  }\n};\n\n/***/ }),\n\n/***/ 93:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__utils__ = __webpack_require__(38);\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'cell',\n  props: ['row', 'col', 'isBomb', 'status', 'isFlag', 'bombCount'],\n  computed: {\n    display: function display() {\n      return __WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* default */].getCellStatus({\n        isFlag: '',\n        status0: '',\n        isBomb: '雷',\n        bombCount: '',\n        bombCount0: ''\n      }, this);\n    },\n    className: function className() {\n      return __WEBPACK_IMPORTED_MODULE_0__utils__[\"a\" /* default */].getCellStatus({\n        isFlag: 'flag fa-flag',\n        status0: 'status0',\n        isBomb: 'bomb',\n        bombCount: 'bomb-count-',\n        bombCount0: 'bomb-count-0'\n      }, this);\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 94:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__ = __webpack_require__(37);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__ = __webpack_require__(90);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cell__ = __webpack_require__(41);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__cell___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__cell__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__config__ = __webpack_require__(91);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__utils__ = __webpack_require__(38);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate__ = __webpack_require__(47);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate__);\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  name: 'game',\n  components: {\n    cell: __WEBPACK_IMPORTED_MODULE_2__cell___default.a,\n    'vue-drr': __WEBPACK_IMPORTED_MODULE_5_vue_drag_resize_rotate___default.a\n  },\n  data: function data() {\n    return {\n      config: __WEBPACK_IMPORTED_MODULE_1_babel_runtime_core_js_object_assign___default()({}, __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */]),\n      gameOver: false,\n      cellData: [],\n      showTips: false,\n      width: 0,\n      flagCount: 0,\n      score: 0,\n      inputRow: __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].row,\n      inputCol: __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].col,\n      inputBombCount: __WEBPACK_IMPORTED_MODULE_3__config__[\"a\" /* default */].bombCount,\n      bombSet: new __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_set___default.a(),\n      success: false,\n      tipsText: ''\n    };\n  },\n  mounted: function mounted() {\n    this.init();\n  },\n\n  computed: {\n    cellCount: function cellCount() {\n      return this.config.col * this.config.row;\n    }\n  },\n  watch: {\n    score: function score(val) {\n      if (val === this.cellCount - this.config.bombCount) {\n        var $this = this;\n        this.bombSet.forEach(function (e) {\n          var col = e % $this.config.col;\n          var row = ~~(e / $this.config.col);\n          console.log(col, row);\n          $this.cellData[row][col].isFlag = 1;\n        });\n        this.$forceUpdate();\n        this.score = this.cellCount;\n        this.flagCount = this.config.bombCount;\n        this.success = true;\n      }\n    }\n  },\n  methods: {\n    init: function init() {\n      if (~~this.inputCol > this.config.maxCol || ~~this.inputRow > this.config.maxRow) {\n        this.tipsText = '请勿作死设置过大行列！';\n        this.showTips = true;\n        this.inputRow = this.config.row;\n        this.inputCol = this.config.col;\n        this.inputBombCount = this.config.bombCount;\n        return;\n      }\n      this.config.col = ~~this.inputCol;\n      this.config.row = ~~this.inputRow;\n      if (~~this.inputBombCount >= this.cellCount) {\n        this.tipsText = '雷的数量最大为格子数量减1';\n        this.showTips = true;\n        this.inputBombCount = this.cellCount - 1;\n        return;\n      }\n      this.config.bombCount = ~~this.inputBombCount;\n      this.showTips = false;\n      this.success = false;\n      this.gameOver = false;\n      this.score = 0;\n      this.flagCount = 0;\n      this.width = this.config.col * 41 + 1;\n      this.cellData = this.initData();\n    },\n    initData: function initData() {\n      var _this = this;\n\n      this.bombSet = __WEBPACK_IMPORTED_MODULE_4__utils__[\"a\" /* default */].randomBomb(this.config.bombCount, this.config.col * this.config.row);\n      var result = [];\n      console.time('map');\n      result = Array(this.config.row).fill(0).map(function (e, row) {\n        return Array(_this.config.col).fill(0).map(function (e, col) {\n          return {\n            status: 0,\n            isFlag: false,\n            row: row,\n            col: col,\n            isBomb: _this.bombSet.has(row * _this.config.col + col),\n            bombCount: 0,\n            isTriggered: false\n          };\n        });\n      });\n      console.timeEnd('map');\n      return result;\n    },\n    fail: function fail() {\n      this.gameOver = true;\n    },\n    handleClick: function handleClick(ev) {\n      if (ev.target.nodeName !== 'TD') return;\n      var col = ev.target.cellIndex;\n      var row = ev.target.parentNode.rowIndex;\n      var cell = this.cellData[row][col];\n      if (cell.status !== 0) return;\n      var clickType = ev.button;\n      if (clickType === 0) {\n        if (!cell.isFlag) {\n          cell.status = 1;\n          if (cell.isBomb) {\n            this.$forceUpdate();\n            this.fail();\n            return;\n          }\n          this.score++;\n          var aroundCell = this.getAroundCell(row, col);\n          cell.bombCount = aroundCell.reduce(function (sum, cell) {\n            return sum + (cell.isBomb ? 1 : 0);\n          }, 0);\n          if (cell.bombCount === 0) {\n            var table = this.$el.querySelector('table');\n            var nextTick = this.$nextTick;\n            cell.isTriggered = true;\n            aroundCell.forEach(function (e) {\n              if (e.isTriggered || e.isFlag || e.status === 1) return;\n              var evt = new MouseEvent('mouseup', {\n                button: 0,\n                bubbles: true\n              });\n\n              nextTick(function () {\n                table.rows[e.row].cells[e.col].dispatchEvent(evt);\n              });\n            });\n          }\n          this.$forceUpdate();\n        }\n      } else if (clickType === 2) {\n        if (!cell.isFlag) {\n          this.flagCount++;\n          cell.isFlag = true;\n        } else {\n          this.flagCount--;\n          cell.isFlag = false;\n        }\n        this.$forceUpdate();\n      }\n    },\n    handleRightClick: function handleRightClick() {},\n    getAroundCell: function getAroundCell(row, col) {\n      var rowArr = [row - 1, row, row + 1];\n      var colArr = [col - 1, col, col + 1];\n      var resultArr = [];\n      var $vm = this;\n      rowArr.forEach(function (r) {\n        colArr.forEach(function (c) {\n          if (r === row && c === col || r < 0 || r >= $vm.config.row || c < 0 || c >= $vm.config.col) return;\n          resultArr.push($vm.cellData[r][c]);\n        });\n      });\n      return resultArr;\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 95:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_vue__ = __webpack_require__(40);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App__ = __webpack_require__(39);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__App___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__App__);\n\n\n\n__WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */].config.productionTip = false;\n\nnew __WEBPACK_IMPORTED_MODULE_0_vue__[\"a\" /* default */]({\n  el: '#app',\n  render: function render(h) {\n    return h(__WEBPACK_IMPORTED_MODULE_1__App___default.a);\n  }\n});\n\n/***/ })\n\n},[95]);\n\n\n// WEBPACK FOOTER //\n// static/js/app.b2f41ed42a953efdc5ce.js","const Utils = {}\r\nUtils.randomBomb = function (bombCount, cellCount) {\r\n  console.time('random')\r\n  console.log(bombCount, cellCount)\r\n  if (bombCount > cellCount) {\r\n    bombCount = cellCount\r\n  }\r\n  const cellArr = Array(cellCount).fill(false)\r\n  let resultArr = Array(bombCount).fill(1).map(function uniqueRandom () {\r\n    let randomIndex = ~~(Math.random() * cellCount)\r\n    if (!cellArr[randomIndex]) {\r\n      cellArr[randomIndex] = true\r\n      return randomIndex\r\n    } else {\r\n      return uniqueRandom()\r\n    }\r\n  })\r\n  console.log(resultArr)\r\n  let result = new Set()\r\n  resultArr.forEach(e => result.add(e))\r\n  console.timeEnd('random')\r\n  return result\r\n}\r\n\r\nUtils.getCellStatus = function (result, cell) {\r\n  return cell.isFlag ? result.isFlag : (\r\n    cell.status === 0 ? result.status0 : (\r\n      cell.isBomb ? result.isBomb : (\r\n        cell.bombCount > 0 ? result.bombCount + cell.bombCount : result.bombCount0\r\n      )\r\n    )\r\n  )\r\n}\r\n\r\nexport default Utils\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils/index.js","\n/* styles */\nrequire(\"!!../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../node_modules/.11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-05ab4e8f\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../node_modules/.11.1.4@vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n\nvar Component = require(\"!../node_modules/.11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../node_modules/.11.1.4@vue-loader/lib/selector?type=script&index=0!./App.vue\"),\n  /* template */\n  require(\"!!../node_modules/.11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-05ab4e8f\\\"}!../node_modules/.11.1.4@vue-loader/lib/selector?type=template&index=0!./App.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = 39\n// module chunks = 1","var Component = require(\"!../../node_modules/.11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.11.1.4@vue-loader/lib/selector?type=script&index=0!./cell.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-ae95996e\\\"}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=template&index=0!./cell.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/cell.vue\n// module id = 41\n// module chunks = 1","\n/* styles */\nrequire(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-75f32dd9\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=styles&index=0!./game.vue\")\nrequire(\"!!../../node_modules/.2.1.0@extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../node_modules/.11.1.4@vue-loader/lib/style-rewriter?{\\\"id\\\":\\\"data-v-75f32dd9\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=styles&index=1!./game.vue\")\n\nvar Component = require(\"!../../node_modules/.11.1.4@vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/.11.1.4@vue-loader/lib/selector?type=script&index=0!./game.vue\"),\n  /* template */\n  require(\"!!../../node_modules/.11.1.4@vue-loader/lib/template-compiler?{\\\"id\\\":\\\"data-v-75f32dd9\\\"}!../../node_modules/.11.1.4@vue-loader/lib/selector?type=template&index=0!./game.vue\"),\n  /* scopeId */\n  \"data-v-75f32dd9\",\n  /* cssModules */\n  null\n)\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/game.vue\n// module id = 42\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    attrs: {\n      \"id\": \"app\"\n    }\n  }, [_c('game')], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-05ab4e8f\"}!./~/.11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = 43\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    class: _vm.config.theme\n  }, [_c('vue-drr', {\n    staticClass: \"scoreboard\",\n    attrs: {\n      \"w\": 180,\n      \"h\": 180,\n      \"r\": 0,\n      \"resizeable\": false,\n      \"rotatable\": false\n    }\n  }, [_c('h3', [_vm._v(\"计分板\")]), _vm._v(\"\\n    旗帜数量： \" + _vm._s(_vm.flagCount) + \" \"), _c('br'), _c('br'), _vm._v(\"\\n    分数： \" + _vm._s(_vm.score) + \"\\n  \")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"game-config\"\n  }, [_c('form', {\n    attrs: {\n      \"action\": \"\"\n    },\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_c('label', [_vm._v(\"行: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputRow),\n      expression: \"inputRow\"\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.inputRow)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputRow = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"列: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputCol),\n      expression: \"inputCol\"\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.inputCol)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputCol = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('label', [_vm._v(\"雷的数量: \"), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.inputBombCount),\n      expression: \"inputBombCount\"\n    }],\n    attrs: {\n      \"type\": \"number\"\n    },\n    domProps: {\n      \"value\": (_vm.inputBombCount)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.inputBombCount = $event.target.value\n      },\n      \"blur\": function($event) {\n        _vm.$forceUpdate()\n      }\n    }\n  })]), _vm._v(\" \"), _c('button', {\n    attrs: {\n      \"type\": \"submit\"\n    }\n  }, [_vm._v(\"生成\")])]), _vm._v(\" \"), (_vm.showTips) ? _c('div', {\n    staticClass: \"game-config-tips\"\n  }, [_vm._v(_vm._s(_vm.tipsText))]) : _vm._e()]), _vm._v(\" \"), _c('table', {\n    staticClass: \"game\",\n    class: {\n      'tips-open': _vm.showTips\n    },\n    attrs: {\n      \"width\": _vm.width\n    },\n    on: {\n      \"mouseup\": _vm.handleClick,\n      \"contextmenu\": function($event) {\n        $event.preventDefault();\n        _vm.handleRightClick($event)\n      }\n    }\n  }, _vm._l((_vm.cellData), function(rows, row) {\n    return _c('tr', {\n      key: row\n    }, _vm._l((rows), function(cell, col) {\n      return _c('cell', {\n        key: col,\n        attrs: {\n          \"row\": cell.row,\n          \"col\": cell.col,\n          \"isBomb\": cell.isBomb,\n          \"status\": cell.status,\n          \"isFlag\": cell.isFlag,\n          \"bombCount\": cell.bombCount\n        }\n      })\n    }))\n  })), _vm._v(\" \"), (_vm.gameOver) ? _c('div', {\n    staticClass: \"gameover layer\"\n  }, [_c('div', [_vm._v(\"Game Over\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你美丽了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"再试一次\")])])]) : _vm._e(), _vm._v(\" \"), (_vm.success) ? _c('div', {\n    staticClass: \"success layer\"\n  }, [_c('div', [_vm._v(\"Win!\")]), _vm._v(\" \"), _c('div', [_vm._v(\"你成功了!\")]), _vm._v(\" \"), _c('div', {\n    staticClass: \"retry\"\n  }, [_c('a', {\n    attrs: {\n      \"href\": \"#\"\n    },\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.init($event)\n      }\n    }\n  }, [_vm._v(\"我还要玩\")])])]) : _vm._e()], 1)\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-75f32dd9\"}!./~/.11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/game.vue\n// module id = 44\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('td', {\n    class: _vm.className\n  }, [_vm._v(_vm._s(_vm.display))])\n},staticRenderFns: []}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/.11.1.4@vue-loader/lib/template-compiler.js?{\"id\":\"data-v-ae95996e\"}!./~/.11.1.4@vue-loader/lib/selector.js?type=template&index=0!./src/components/cell.vue\n// module id = 45\n// module chunks = 1","export default {\r\n  bombCount: 50,\r\n  row: 20,\r\n  col: 20,\r\n  maxRow: 100,\r\n  maxCol: 100,\r\n  theme: 'classic'\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/config.js","<template>\n  <div id=\"app\">\n    <game></game>\n  </div>\n</template>\n\n<script>\nimport game from './components/game'\n\nexport default {\n  name: 'app',\n  components: {\n    game\n  }\n}\n</script>\n\n<style>\n#app {\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// App.vue?40ccba99","<template>\r\n  <td :class=\"className\">{{display}}</td>\r\n</template>\r\n<script>\r\n  import Utils from '../utils'\r\n  export default {\r\n    name: 'cell',\r\n    props: ['row', 'col', 'isBomb', 'status', 'isFlag', 'bombCount'],\r\n    computed: {\r\n      display () {\r\n        return Utils.getCellStatus({\r\n          isFlag: '',\r\n          status0: '',\r\n          isBomb: '雷',\r\n          bombCount: '',\r\n          bombCount0: ''\r\n        }, this)\r\n      },\r\n      className () {\r\n        return Utils.getCellStatus({\r\n          isFlag: 'flag fa-flag',\r\n          status0: 'status0',\r\n          isBomb: 'bomb',\r\n          bombCount: 'bomb-count-',\r\n          bombCount0: 'bomb-count-0'\r\n        }, this)\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\n\n\n// WEBPACK FOOTER //\n// cell.vue?66d9ba85","<template>\r\n  <div :class=\"config.theme\">\r\n    <vue-drr :w='180' :h='180' :r='0' class=\"scoreboard\" :resizeable=\"false\" :rotatable='false'>\r\n      <h3>计分板</h3>\r\n      旗帜数量： {{flagCount}} <br><br>\r\n      分数： {{score}}\r\n    </vue-drr>\r\n    <div class=\"game-config\">\r\n      <form action=\"\" @submit.prevent=\"init\">\r\n        <label>行: <input type=\"number\" v-model=\"inputRow\"></label>\r\n        <label>列: <input type=\"number\" v-model=\"inputCol\"></label>\r\n        <label>雷的数量: <input type=\"number\" v-model=\"inputBombCount\"></label>\r\n        <button type=\"submit\">生成</button>\r\n      </form>\r\n      <div v-if=\"showTips\" class=\"game-config-tips\">{{ tipsText }}</div>\r\n    </div>\r\n    <table :width=\"width\" class=\"game\" :class=\"{'tips-open': showTips}\" @mouseup=\"handleClick\" @contextmenu.prevent=\"handleRightClick\">\r\n      <tr :key=\"row\" v-for=\"(rows, row) in cellData\">\r\n        <cell :key=\"col\" v-for=\"(cell, col) in rows\" :row=\"cell.row\" :col=\"cell.col\" :isBomb=\"cell.isBomb\" :status=\"cell.status\" :isFlag=\"cell.isFlag\" :bombCount=\"cell.bombCount\"></cell>\r\n      </tr>\r\n    </table>\r\n    <div v-if=\"gameOver\" class=\"gameover layer\">\r\n      <div>Game Over</div>\r\n      <div>你美丽了!</div>\r\n      <div class=\"retry\"><a href=\"#\" @click.prevent=\"init\">再试一次</a></div>\r\n    </div>\r\n    <div v-if=\"success\" class=\"success layer\">\r\n      <div>Win!</div>\r\n      <div>你成功了!</div>\r\n      <div class=\"retry\"><a href=\"#\" @click.prevent=\"init\">我还要玩</a></div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\n  import cell from './cell'\r\n  import config from '../config'\r\n  import Utils from '../utils'\r\n  import VueDRR from 'vue-drag-resize-rotate'\r\n  export default {\r\n    name: 'game',\r\n    components: {\r\n      cell,\r\n      'vue-drr': VueDRR\r\n    },\r\n    data () {\r\n      return {\r\n        config: Object.assign({}, config),\r\n        gameOver: false,\r\n        cellData: [],\r\n        showTips: false,\r\n        width: 0,\r\n        flagCount: 0,\r\n        score: 0,\r\n        inputRow: config.row,\r\n        inputCol: config.col,\r\n        inputBombCount: config.bombCount,\r\n        bombSet: new Set(),\r\n        success: false,\r\n        tipsText: ''\r\n      }\r\n    },\r\n    mounted () {\r\n      this.init()\r\n    },\r\n    computed: {\r\n      cellCount () {\r\n        return this.config.col * this.config.row\r\n      }\r\n    },\r\n    watch: {\r\n      score (val) {\r\n        if (val === this.cellCount - this.config.bombCount) {\r\n          let $this = this\r\n          this.bombSet.forEach(e => {\r\n            let col = e % $this.config.col\r\n            let row = ~~(e / $this.config.col)\r\n            console.log(col, row)\r\n            $this.cellData[row][col].isFlag = 1\r\n          })\r\n          this.$forceUpdate()\r\n          this.score = this.cellCount\r\n          this.flagCount = this.config.bombCount\r\n          this.success = true\r\n        }\r\n      }\r\n    },\r\n    methods: {\r\n      init () {\r\n        if ((~~this.inputCol) > this.config.maxCol || (~~this.inputRow) > this.config.maxRow) {\r\n          this.tipsText = '请勿作死设置过大行列！'\r\n          this.showTips = true\r\n          this.inputRow = this.config.row\r\n          this.inputCol = this.config.col\r\n          this.inputBombCount = this.config.bombCount\r\n          return\r\n        }\r\n        this.config.col = ~~this.inputCol\r\n        this.config.row = ~~this.inputRow\r\n        if ((~~this.inputBombCount) >= this.cellCount) {\r\n          this.tipsText = '雷的数量最大为格子数量减1'\r\n          this.showTips = true\r\n          this.inputBombCount = this.cellCount - 1\r\n          return\r\n        }\r\n        this.config.bombCount = ~~this.inputBombCount\r\n        this.showTips = false\r\n        this.success = false\r\n        this.gameOver = false\r\n        this.score = 0\r\n        this.flagCount = 0\r\n        this.width = this.config.col * 41 + 1\r\n        this.cellData = this.initData()\r\n      },\r\n      initData () {\r\n        this.bombSet = Utils.randomBomb(this.config.bombCount, this.config.col * this.config.row)\r\n        let result = []\r\n        console.time('map')\r\n        result = Array(this.config.row).fill(0).map((e, row) => {\r\n          return Array(this.config.col).fill(0).map((e, col) => {\r\n            return {\r\n              status: 0,\r\n              isFlag: false,\r\n              row,\r\n              col,\r\n              isBomb: this.bombSet.has(row * this.config.col + col),\r\n              bombCount: 0,\r\n              isTriggered: false\r\n            }\r\n          })\r\n        })\r\n        console.timeEnd('map')\r\n        return result\r\n      },\r\n      fail () {\r\n        this.gameOver = true\r\n      },\r\n      handleClick (ev) {\r\n        if (ev.target.nodeName !== 'TD') return\r\n        let col = ev.target.cellIndex\r\n        let row = ev.target.parentNode.rowIndex\r\n        let cell = this.cellData[row][col]\r\n        if (cell.status !== 0) return\r\n        let clickType = ev.button\r\n        if (clickType === 0) {\r\n          if (!cell.isFlag) {\r\n            cell.status = 1\r\n            if (cell.isBomb) {\r\n              this.$forceUpdate()\r\n              this.fail()\r\n              return\r\n            }\r\n            this.score++\r\n            let aroundCell = this.getAroundCell(row, col)\r\n            cell.bombCount = aroundCell.reduce(function (sum, cell) {\r\n              return sum + (cell.isBomb ? 1 : 0)\r\n            }, 0)\r\n            if (cell.bombCount === 0) {\r\n              let table = this.$el.querySelector('table')\r\n              let nextTick = this.$nextTick\r\n              cell.isTriggered = true\r\n              aroundCell.forEach(e => {\r\n                if (e.isTriggered || e.isFlag || e.status === 1) return\r\n                let evt = new MouseEvent('mouseup', {\r\n                  button: 0,\r\n                  bubbles: true\r\n                })\r\n                // TODO: cell展开性能优化\r\n                nextTick(() => {\r\n                  table.rows[e.row].cells[e.col].dispatchEvent(evt)\r\n                })\r\n              })\r\n            }\r\n            this.$forceUpdate()\r\n          }\r\n        } else if (clickType === 2) {\r\n          if (!cell.isFlag) {\r\n            this.flagCount++\r\n            cell.isFlag = true\r\n          } else {\r\n            this.flagCount--\r\n            cell.isFlag = false\r\n          }\r\n          this.$forceUpdate()\r\n        }\r\n      },\r\n      handleRightClick () {\r\n      },\r\n      getAroundCell (row, col) {\r\n        let rowArr = [row - 1, row, row + 1]\r\n        let colArr = [col - 1, col, col + 1]\r\n        let resultArr = []\r\n        let $vm = this\r\n        rowArr.forEach(r => {\r\n          colArr.forEach(c => {\r\n            if ((r === row && c === col) || (r < 0 || r >= $vm.config.row) || (c < 0 || c >= $vm.config.col)) return\r\n            resultArr.push($vm.cellData[r][c])\r\n          })\r\n        })\r\n        return resultArr\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped>\r\n  .scoreboard.dragable{\r\n    position: fixed;\r\n    z-index: 10;\r\n    max-width: 180px;\r\n    max-height: 180px;\r\n    min-height: 180px;\r\n    min-width: 180px;\r\n    user-select: none;\r\n    cursor: move;\r\n    top: 100px;\r\n    left: 100px;\r\n  }\r\n</style>\r\n<style>\r\n  body, button, input{\r\n    font-family: Arial, Microsoft Yahei;\r\n  }\r\n  .scoreboard.dragable .scale{\r\n    display: none;\r\n  }\r\n  .game{\r\n    margin: 0 auto;\r\n    border-spacing: 0;\r\n    border-collapse: collapse;\r\n    user-select: none;\r\n    text-align: center;\r\n    margin-top: 65px;\r\n  }\r\n  .game.tips-open{\r\n    margin-top: 97px;\r\n  }\r\n  .game-config{\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    top: 0;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 20px 0;\r\n    background-color: #fff;\r\n    flex-wrap: wrap;\r\n  }\r\n  .game-config label{\r\n    margin-right: 5px;\r\n  }\r\n  .game-config-tips{\r\n    width: 100%;\r\n    margin-top: 10px;\r\n    text-align: center;\r\n    color: #f36;\r\n    font-weight: bold;\r\n  }\r\n  td{\r\n    width: 30px;\r\n    height: 30px;\r\n    border: 1px solid;\r\n    padding: 0;\r\n  }\r\n  .layer{\r\n    position: fixed;\r\n    z-index: 1000;\r\n    top: 0;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    text-align: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n    justify-content: center;\r\n    font-size: 100px;\r\n    font-weight: bold;\r\n    color: #f36;\r\n    font-family: Arial, Microsoft Yahei;\r\n    background-color: rgba(255, 255, 255, .7);\r\n  }\r\n  .layer > div{\r\n    width: 100%;\r\n  }\r\n  .layer .retry a{\r\n    font-size: 40px;\r\n    text-decoration: none;\r\n    color: #06f;\r\n  }\r\n  .gameover{\r\n    color: #f36;\r\n  }\r\n  .success{\r\n    color: #09BB07;\r\n  }\r\n\r\n  /* theme */\r\n  /* classic */\r\n  .classic .game{\r\n    border-collapse: separate;\r\n    font-family: Courier, Arial, Microsoft Yahei;\r\n    font-size: 30px;\r\n    font-weight: bold;\r\n    border-spacing: 1px;\r\n    background-color: #666; \r\n  }\r\n  .classic .status0{\r\n    width: 30px;\r\n    height: 30px;\r\n    border-style: solid;\r\n    border-width: 5px;\r\n    border-color: #eee #aaa #aaa #eee;\r\n    background-color: #ddd;\r\n    cursor: pointer;\r\n  }\r\n  .classic .flag{\r\n    cursor: pointer;\r\n    width: 30px;\r\n    height: 30px;\r\n    font-size: 24px;\r\n    color: #f36;\r\n    border-style: solid;\r\n    border-width: 5px;\r\n    border-color: #eee #aaa #aaa #eee;\r\n    background-color: #ddd;\r\n    font-family: FontAwesome;\r\n    font-weight: normal;\r\n    text-rendering: auto;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n  .classic .bomb{\r\n    font-size: 20px;\r\n    width: 38px;\r\n    height: 38px;\r\n    border: 1px solid #666;\r\n    background-color: #ccc;\r\n    color: #f36;\r\n    cursor: default;\r\n  }\r\n  .classic [class^=bomb-count-]{\r\n    width: 38px;\r\n    height: 38px;\r\n    border: 1px solid #666;\r\n    background-color: #ccc;\r\n    cursor: default;\r\n  }\r\n  .classic .bomb-count-0{\r\n  }\r\n  .classic .bomb-count-1{\r\n    color: #00f;\r\n  }\r\n  .classic .bomb-count-2{\r\n    color: #080;\r\n  }\r\n  .classic .bomb-count-3{\r\n    color: #f00;\r\n  }\r\n  .classic .bomb-count-4{\r\n    color: #008;\r\n  }\r\n  .classic .bomb-count-5{\r\n    color: #800;\r\n  }\r\n  .classic .bomb-count-6{\r\n    color: #088;\r\n  }\r\n  .classic .bomb-count-7{\r\n    color: #000;\r\n  }\r\n  .classic .bomb-count-8{\r\n    color: #808;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// game.vue?b3e05c42","import Vue from 'vue'\nimport App from './App'\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  render: h => h(App)\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js"],"sourceRoot":""}